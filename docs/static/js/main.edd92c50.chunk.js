(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);n(78);var a=n(0),r=n.n(a),o=n(74),l=n.n(o),i=n(139),c=(n(118),n(28)),s=n(21),u=n(3),d=n(4),b=n(6),m=n(5),h=n(7),p=n(2),f=[{id:1,title:"A Game of Thrones",price:9.99,genres:["fantasy","political novel"]},{id:2,title:"Women in Science",price:11.55,genres:["science"]},{id:3,title:"The Pillars of the Earth",price:8.99,genres:["historical fiction"]},{id:4,title:"Northern Lights",price:14.5,genres:["fantasy"]},{id:5,title:"Contact",price:28.88,genres:["science fiction"]}],k=[],v=!0,y=!1,O=void 0;try{for(var j,_=f[Symbol.iterator]();!(v=(j=_.next()).done);v=!0){var g=j.value.genres,E=!0,G=!1,B=void 0;try{for(var R,N=g[Symbol.iterator]();!(E=(R=N.next()).done);E=!0){var C=R.value;k.indexOf(C)>-1||k.push(C)}}catch(ee){G=!0,B=ee}finally{try{E||null==N.return||N.return()}finally{if(G)throw B}}}}catch(ee){y=!0,O=ee}finally{try{v||null==_.return||_.return()}finally{if(y)throw O}}k.sort();n(119),n(120);var x=n(75),S=n.n(x),A=(n(121),n(138)),U=function(e){var t=e.size;return r.a.createElement(A.a,{to:"/"},r.a.createElement("div",{className:"logo__container ".concat(t)},r.a.createElement("img",{src:S.a,alt:"Logo",className:"logo__image"})))},q=(n(124),function(e){var t=e.title,n=e.url;return r.a.createElement(A.a,{to:n,className:"menu__link"},r.a.createElement("li",{className:"menu__item"},t))}),I=function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"menu"},r.a.createElement("ul",{className:"menu__list"},r.a.createElement(q,{title:"Catalog",url:"/"}),r.a.createElement(q,{title:"Edition",url:"/edition"})))}}]),t}(a.Component),T=function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"app__header"},r.a.createElement(U,{size:"logo__container--header"}),r.a.createElement(I,null))}}]),t}(a.Component),w=n(141),L=n(140),V=n(1),F=n.n(V),P={id:F.a.number.isRequired,title:F.a.string.isRequired,price:F.a.oneOfType([F.a.string,F.a.number]).isRequired,genres:F.a.arrayOf(F.a.string.isRequired).isRequired},z=(F.a.arrayOf(F.a.shape(P).isRequired).isRequired,F.a.arrayOf(F.a.shape(P).isRequired).isRequired,F.a.arrayOf(F.a.string.isRequired).isRequired,F.a.objectOf(F.a.arrayOf(F.a.string.isRequired).isRequired).isRequired,F.a.bool.isRequired,F.a.func.isRequired,F.a.func.isRequired,F.a.func.isRequired,F.a.func.isRequired,F.a.func.isRequired,F.a.func.isRequired,F.a.func.isRequired,F.a.func.isRequired,n(125),n(126),n(127),function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.labelContent,n=e.labelStyles,a=e.labelContentStyles,o=e.inputStyles,l=e.inputType,i=e.inputName,c=e.inputValue,s=e.example,u=e.isChecked,d=e.handleInputChange;return r.a.createElement("label",{className:n,htmlFor:i},r.a.createElement("span",{className:a},t),r.a.createElement("input",{className:o,type:l,id:i,name:i,value:c,placeholder:s,checked:u,onChange:d}))}}]),t}(a.Component)),D=function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allGenres,n=e.filters,a=e.handleBoxChange;return r.a.createElement("section",{className:"app__filters"},r.a.createElement("h2",{className:"filters__description"},"Filter books by genre"),r.a.createElement("div",{className:"filters__wrapper"},t.map(function(e,t){return r.a.createElement(z,{key:t,labelContent:e,labelStyles:"checkbox__label",labelContentStyles:"checkbox__label-title",inputStyles:"checkbox__box",inputType:"checkbox",inputName:e,inputValue:e,isChecked:n.genres.indexOf(e)>-1,handleInputChange:a})})))}}]),t}(a.Component),J=(n(128),n(129),function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bookInd,n=e.filteredBooks,a=e.book,o=a.title,l=a.price,i=a.genres;return r.a.createElement("li",{className:"books__item"},r.a.createElement("h2",{className:"book__title"},"Book ".concat(t+1," of ").concat(n.length)),r.a.createElement("h3",{className:"book__subtitle"},"Title:",r.a.createElement("span",{className:"book__content"}," ",o||"no data")),r.a.createElement("h3",{className:"book__subtitle"},"Price:",r.a.createElement("span",{className:"book__content"}," ",l?"$".concat(l):"no data")),r.a.createElement("div",{className:"book__genres-wrapper"},r.a.createElement("h3",{className:"book__subtitle"},"Genres:"),0===i.length?r.a.createElement("span",{className:"book__content"},"no data"):r.a.createElement("ul",{className:"genres__list"},i.map(function(e,t){return e?r.a.createElement("li",{key:t,className:"genres__item"},e):r.a.createElement("span",{key:t,className:"book__content"},"no data")}))))}}]),t}(a.Component)),M=function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.filteredBooks;return r.a.createElement("section",{className:"app__books"},r.a.createElement("ul",{className:"books__list"},e.map(function(t,n){return r.a.createElement(J,{key:n,bookInd:n,filteredBooks:e,book:t})})))}}]),t}(a.Component),W=(n(130),function(){return r.a.createElement("div",{className:"loader"},"Loading...")}),$=(n(131),n(132),n(133),function(e){var t=e.buttonType,n=e.buttonStyles,a=e.children,o=e.handleBtnClick;return r.a.createElement("button",{className:n,type:t,onClick:o},a)}),H=(n(134),n(135),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).onGenreUpdate=n.onGenreUpdate.bind(Object(p.a)(Object(p.a)(n))),n.onRemoveGenre=n.onRemoveGenre.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onGenreUpdate",value:function(e){var t=e.currentTarget.value,n=this.props,a=n.bookInd,r=n.genreInd;(0,n.handleGenreUpdate)(a,r,t)}},{key:"onRemoveGenre",value:function(){var e=this.props,t=e.bookInd,n=e.genreInd;(0,e.handleRemoveGenre)(t,n)}},{key:"render",value:function(){var e=this.props,t=e.genreInd,n=e.genres,a=e.genre;return r.a.createElement("li",{className:"form__genres-item"},r.a.createElement(z,{labelContent:"Genre ".concat(t+1," of ").concat(n.length),labelStyles:"field__label",labelContentStyles:"field__label-title",inputStyles:"field__box",inputType:"text",inputName:"genre",inputValue:a,example:"Ex: science fiction",handleInputChange:this.onGenreUpdate}),r.a.createElement($,{buttonType:"button",buttonStyles:"btn btn--small btn--remove btn--remove-genre",handleBtnClick:this.onRemoveGenre},r.a.createElement("i",{className:"fas fa-trash-alt"})))}}]),t}(a.Component)),K=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).onAddGenre=n.onAddGenre.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.books!==e.books&&this.props.updateGenres()}},{key:"onAddGenre",value:function(){var e=this.props,t=e.bookInd;(0,e.handleAddGenre)(t)}},{key:"render",value:function(){var e=this.props,t=e.bookInd,n=e.genres,a=e.handleGenreUpdate,o=e.handleRemoveGenre;return r.a.createElement("div",{className:"form__genres-wrapper"},r.a.createElement("h3",{className:"form__genres-title"},"Genres"),r.a.createElement("ul",{className:"form__genres-list"},n.map(function(e,l){return r.a.createElement(H,{key:l,genreInd:l,bookInd:t,genres:n,genre:e,handleGenreUpdate:a,handleRemoveGenre:o})})),r.a.createElement($,{buttonType:"button",buttonStyles:"btn btn--small btn--add",handleBtnClick:this.onAddGenre},r.a.createElement("i",{className:"fas fa-plus"})))}}]),t}(a.Component),Q=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).onBookUpdate=n.onBookUpdate.bind(Object(p.a)(Object(p.a)(n))),n.onRemoveBook=n.onRemoveBook.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onBookUpdate",value:function(e){var t=e.currentTarget,n=t.value,a=t.name,r=this.props,o=r.bookInd;(0,r.handleBookUpdate)(o,n,a)}},{key:"onRemoveBook",value:function(){var e=this.props,t=e.bookInd;(0,e.handleRemoveBook)(t)}},{key:"render",value:function(){var e=this.props,t=e.bookInd,n=e.books,a=e.book,o=e.updateGenres,l=e.handleGenreUpdate,i=e.handleAddGenre,c=e.handleRemoveGenre,s=a.title,u=a.price,d=a.genres;return r.a.createElement("li",{className:"form__books-item"},r.a.createElement("div",{className:"form-item__title-wrapper"},r.a.createElement("h2",{className:"form-item__title"},"Book ".concat(t+1," of ").concat(n.length)),r.a.createElement($,{buttonType:"button",buttonStyles:"btn btn--medium btn--remove",handleBtnClick:this.onRemoveBook},r.a.createElement("i",{className:"fas fa-trash-alt"}))),r.a.createElement("div",{className:"form-item__content-wrapper"},r.a.createElement("div",{className:"form-item__fields-wrapper"},r.a.createElement("h3",{className:"form__genres-title"},"General info"),r.a.createElement(z,{labelContent:"Title",labelStyles:"field__label",labelContentStyles:"field__label-title",inputStyles:"field__box",inputType:"text",inputName:"title",inputValue:s,example:"Ex: The Martian",handleInputChange:this.onBookUpdate}),r.a.createElement(z,{labelContent:"Price",labelStyles:"field__label",labelContentStyles:"field__label-title",inputStyles:"field__box",inputType:"number",inputName:"price",inputValue:u,example:"Ex: 9.99",handleInputChange:this.onBookUpdate})),r.a.createElement(K,{bookInd:t,books:n,genres:d,updateGenres:o,handleGenreUpdate:l,handleAddGenre:i,handleRemoveGenre:c})))}}]),t}(a.Component),X=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).onAddBook=n.onAddBook.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onAddBook",value:function(){var e=this.props,t=e.books;(0,e.handleAddBook)(t)}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.updateGenres,a=e.handleBookUpdate,o=e.handleRemoveBook,l=e.handleGenreUpdate,i=e.handleAddGenre,c=e.handleRemoveGenre;return r.a.createElement("form",{className:"app__form"},r.a.createElement("ul",{className:"form__books-list"},t.map(function(e,s){return r.a.createElement(Q,{key:s,bookInd:s,books:t,book:e,updateGenres:n,handleBookUpdate:a,handleRemoveBook:o,handleGenreUpdate:l,handleAddGenre:i,handleRemoveGenre:c})})),r.a.createElement($,{buttonType:"button",buttonStyles:"btn btn--large btn--add",handleBtnClick:this.onAddBook},r.a.createElement("i",{className:"fas fa-plus"})))}}]),t}(a.Component),Y=function(e){function t(){return Object(u.a)(this,t),Object(b.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.books,n=e.filteredBooks,o=e.allGenres,l=e.filters,i=e.isLoading,c=e.updateGenres,s=e.handleBoxChange,u=e.handleBookUpdate,d=e.handleAddBook,b=e.handleRemoveBook,m=e.handleGenreUpdate,h=e.handleAddGenre,p=e.handleRemoveGenre,f=r.a.createElement(a.Fragment,null,r.a.createElement(D,{allGenres:o,filters:l,handleBoxChange:s}),r.a.createElement(M,{filteredBooks:n}));return r.a.createElement("main",{className:"app__main"},r.a.createElement(w.a,null,r.a.createElement(L.a,{exact:!0,path:"/",render:function(){return i?r.a.createElement(W,null):f}}),r.a.createElement(L.a,{path:"/edition",render:function(){return r.a.createElement(X,{books:t,updateGenres:c,handleBookUpdate:u,handleAddBook:d,handleRemoveBook:b,handleGenreUpdate:m,handleAddGenre:h,handleRemoveGenre:p})}})))}}]),t}(a.Component),Z=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(b.a)(this,Object(m.a)(t).call(this,e))).state={books:f,allGenres:k,filters:{genres:[]},isLoading:!0},n.fakeApiRequest=n.fakeApiRequest.bind(Object(p.a)(Object(p.a)(n))),n.updateGenres=n.updateGenres.bind(Object(p.a)(Object(p.a)(n))),n.handleBoxChange=n.handleBoxChange.bind(Object(p.a)(Object(p.a)(n))),n.handleBookUpdate=n.handleBookUpdate.bind(Object(p.a)(Object(p.a)(n))),n.handleAddBook=n.handleAddBook.bind(Object(p.a)(Object(p.a)(n))),n.handleRemoveBook=n.handleRemoveBook.bind(Object(p.a)(Object(p.a)(n))),n.handleGenreUpdate=n.handleGenreUpdate.bind(Object(p.a)(Object(p.a)(n))),n.handleAddGenre=n.handleAddGenre.bind(Object(p.a)(Object(p.a)(n))),n.handleRemoveGenre=n.handleRemoveGenre.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.fakeApiRequest,2e3)}},{key:"fakeApiRequest",value:function(){this.setState({isLoading:!1})}},{key:"updateGenres",value:function(){var e=this.state.books,t=[],n=!0,a=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var i=o.value.genres,c=!0,s=!1,u=void 0;try{for(var d,b=i[Symbol.iterator]();!(c=(d=b.next()).done);c=!0){var m=d.value;""===m||t.indexOf(m)>-1||t.push(m)}}catch(ee){s=!0,u=ee}finally{try{c||null==b.return||b.return()}finally{if(s)throw u}}}}catch(ee){a=!0,r=ee}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}t.sort(),this.setState({allGenres:t})}},{key:"handleBoxChange",value:function(e){var t=e.currentTarget,n=t.checked,a=t.name;this.setState(function(e){var t,r=e.filters.genres;return t=n?r.concat(a):r.filter(function(e){return e!==a}),{filters:Object(s.a)({},e.filters,{genres:t})}})}},{key:"filterBooksByGenre",value:function(){var e=this.state,t=e.books,n=e.filters.genres,a=[];if(0===n.length)a=t;else{var r=!0,o=!1,l=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var s=i.value,u=s.genres,d=!0,b=!1,m=void 0;try{for(var h,p=u[Symbol.iterator]();!(d=(h=p.next()).done);d=!0){var f=h.value;n.indexOf(f)>-1&&!(a.indexOf(s)>-1)&&a.push(s)}}catch(ee){b=!0,m=ee}finally{try{d||null==p.return||p.return()}finally{if(b)throw m}}}}catch(ee){o=!0,l=ee}finally{try{r||null==c.return||c.return()}finally{if(o)throw l}}}return a}},{key:"handleBookUpdate",value:function(e,t,n){this.setState(function(a){return{books:a.books.map(function(a,r){return r===e&&(a="price"===n&&t?Object(s.a)({},a,Object(c.a)({},n,parseFloat(t))):Object(s.a)({},a,Object(c.a)({},n,t))),a})}})}},{key:"handleAddBook",value:function(e){var t={id:e.length+1,title:"",price:"",genres:[]};this.setState(function(e){return{books:e.books.concat(t)}})}},{key:"handleRemoveBook",value:function(e){this.setState(function(t){return{books:t.books.filter(function(t,n){return n!==e})}})}},{key:"handleGenreUpdate",value:function(e,t,n){this.setState(function(a){return{books:a.books.map(function(a,r){return r!==e?a:a=Object(s.a)({},a,{genres:a.genres.map(function(e,a){return a===t&&(e=n),e})})})}})}},{key:"handleAddGenre",value:function(e){this.setState(function(t){return{books:t.books.map(function(t,n){return n!==e?t:t=Object(s.a)({},t,{genres:t.genres.concat("")})})}})}},{key:"handleRemoveGenre",value:function(e,t){this.setState(function(n){return{books:n.books.map(function(n,a){return a!==e?n:n=Object(s.a)({},n,{genres:n.genres.filter(function(e,n){return n!==t})})})}})}},{key:"render",value:function(){var e=this.state,t=e.books,n=e.allGenres,a=e.filters,o=e.isLoading;return r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement(Y,{books:t,filteredBooks:this.filterBooksByGenre(),allGenres:n,filters:a,isLoading:o,updateGenres:this.updateGenres,handleBoxChange:this.handleBoxChange,handleBookUpdate:this.handleBookUpdate,handleAddBook:this.handleAddBook,handleRemoveBook:this.handleRemoveBook,handleGenreUpdate:this.handleGenreUpdate,handleAddGenre:this.handleAddGenre,handleRemoveGenre:this.handleRemoveGenre}))}}]),t}(a.Component);l.a.render(r.a.createElement(i.a,null,r.a.createElement(Z,null)),document.getElementById("root"))},75:function(e,t,n){e.exports=n.p+"static/media/logo.b6a20316.svg"},77:function(e,t,n){e.exports=n(137)}},[[77,1,2]]]);
//# sourceMappingURL=main.edd92c50.chunk.js.map